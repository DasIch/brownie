[tox]
envlist = docs,py25,py26,py27,pypy

[testenv]
deps =
# we use the development version for several reasons here:
# - we want class names in test names due to the way we use mixins
# - _if like conditional test inclusion
# As soon as 0.4 is released we can switch to that.
 git+git://github.com/dag/attest.git
 sphinx
commands =
 python runtests.py

[testenv:py26]
deps=
 git+git://github.com/dag/attest.git
 sphinx
commands=
 python runtests.py
 sphinx-build -W -b doctest docs docs/_build/doctest

[testenv:py27]
deps=
 git+git://github.com/dag/attest.git
 sphinx
commands=
 python runtests.py
 sphinx-build -W -b doctest docs docs/_build/doctest

[testenv:docs]
deps = sphinx
commands =
 sphinx-build -W -b html docs docs/_build/html
 sphinx-build -W -b linkcheck docs docs/_build/linkcheck
